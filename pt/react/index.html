<!doctype html>
<html lang="ko">

	<head>
		<meta charset="utf-8">
		<title>Poke React By javarouka (@YiHanghee)</title>
		<meta name="description" content="ecmascript 5th new feature">
		<meta name="author" content="javarouka">
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/default.css" id="theme">
		<link rel="stylesheet" href="lib/css/github.css">
        <link rel="stylesheet" href="plugin/spotlight/spotlight.css">
		<script>
			document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
		</script>
		<script src="lib/js/html5shiv.js"></script>
	</head>

	<body>

		<div class="reveal">

			<div class="slides">

				<section>
					<h1>Poke React</h1>
					<h3>React 얇게 들여다보기</h3>
					<p>
						<small>written by
                            <a href="http://www.facebook.com/hanghui.i" target="new">이항희</a>
                        </small>
					</p>
				</section>

                <section>
                    <h2>React ?</h2>
                </section>

                <section>
                    <p>사용자 커스텀 HTML 엘리먼트를 생성할 수 있는 Library</p>
                </section>

                <section>
                    <p>오로지 View 영역만 담당.</p>
                    <p class="fragment">나머지는 뭘 써도 자유로움.</p>
                    <p class="fragment"> + Backbone, jQuery, myCoolLibrary</p>
                </section>

                <section>
                    <img src="img/naver.png" style="border: none">
                </section>

                <section>
                    <img src="img/naver-sep.png" style="border: none">
                </section>

                <section>
                    <h3>이렇게...</h3>
                    <pre class="code"><code data-trim class="text">&lt;div&gt;
    &lt;header&gt;
        &lt;Logo /&gt;
        &lt;SearchBar /&gt;
        &lt;MainNavigation /&gt;
    &lt;/header&gt;

    &lt;Advertise /&gt;
    &lt;LoginForm /&gt;
    &lt;News /&gt;
    &lt;SubNavigation /&gt;

&lt;/div&gt;</code></pre>
                </section>

                <section>
                    <p>무작정 쓰기보다, 흐름정도는 알아보고 써보자.</p>
                </section>

                <section>
                    <p>간단한 TODO APP 구현</p>
                </section>

                <section>
                    <img src="img/todo-app.png" style="border: none">
                </section>

                <section>
                    <img src="img/todo-app-js.png" style="border: none">
                </section>

                <section>
                    <p>추가 버튼을 누르면 바로 HTML 에 바로 추가함</p>
                    <p class="fragment">중복 여부 또한 HTML 을 뒤져 중복을 체크함</p>
                    <p class="fragment">삭제 버튼을 누르면 바로 HTML 에서 바로 삭제함</p>
                </section>

                <section>
                    <p>JS와 DOM API간의 연계는 상당한 비용이 드는 작업.</p>
                    <p class="fragment">코드를 조금 고쳐서, HTML 접근을 최소화해보자.</p>
                </section>

                <section>
                    <img src="img/state.png" style="border: none">
                </section>

                <section>
                    <img src="img/ui-code.png" style="border: none">
                </section>

                <section>
                    <p>처음 코드의 흐름</p>
                    <img src="img/before.png" style="border: none">
                    <a href="http://hackflow.com/blog/2015/03/08/boiling-react-down-to-few-lines-in-jquery/"
                       style="font-size: 0.6em;"
                       target="_blank">http://hackflow.com/blog/2015/03/08/boiling-react-down-to-few-lines-in-jquery/</a>
                </section>

                <section>
                    <p>나중 코드의 흐름</p>
                    <img src="img/after.png" style="border: none">
                    <a href="http://hackflow.com/blog/2015/03/08/boiling-react-down-to-few-lines-in-jquery/"
                       style="font-size: 0.6em;"
                       target="_blank">http://hackflow.com/blog/2015/03/08/boiling-react-down-to-few-lines-in-jquery/</a>
                </section>

                <section>
                    <p>코드의 흐름이 일관성있게 흐르게 된 것 뿐 아니라 상태를 활용한 여러가지 일이 가능하다.</p>
                    <ul>
                        <li class="fragment">디버깅 편리</li>
                        <li class="fragment">이벤트 추적 및 처리 용이성</li>
                        <li class="fragment">상태를 localStorage 등에 저장해두고 화면 복원</li>
                        <li class="fragment">... 등등</li>
                    </ul>
                </section>

                <section>
                    <p>잠깐...</p>
                    <p class="fragment">오히려 updateUI가 호출될 때마다 전부 지우고 새로 그리기 때문에, 나쁠것 같은데...?</p>
                </section>

                <section>
                    <p>변경되는 부분만 새로 그리자!</p>
                </section>

                <section>
                    <p>그러기 위해서, 먼저 Virtual DOM 이라는 걸 만들고 가자.</p>
                </section>

                <section>
                    <img src="img/virtual-dom.png" style="border: none">
                </section>

                <section>
                    <h3>순수 JS 로만 만들어진 가상의 Element</h3>
                    <p class="fragment">이 객체 구조를 바탕으로 화면을 그리게 된다</p>
                    <p class="fragment">상태와 이벤트는 모두 이 객체만을 조작한다.</p>
                    <p class="fragment">필요할 때 최소의 부분에 최소의 접근으로 화면을 갱신</p>
                </section>

                <section>
                    <img src="img/virtual-dom-apply.png" style="border: none">
                </section>

                <section>
                    <pre><code>// 비교조정 작업.
var diff = function( prevVD, nextVD ) {
    // 트리의 비교는 상당한 비용이 들기에 두가지 가정으로 복잡도를 최소화한다
    // 1. 같은 클래스의 두 컴포넌트는 비슷한 트리를 생성하고,
    //    서로 다른 클래스를 가진 두 컴포넌트는 서로 다른 트리를 생성.
    // 2. 각 렌더 과정들 사이에 유지되는 엘리먼트에 고유한 키를 지정.
};</code></pre>
                </section>

                <section>
                    <p >기존에 있는 VirtualDOM 과 VirtualDOM 과 비교를 수행한다</p>
                    <p class="fragment">트리 비교는 상당한 비용이 있는 작업이며, 최신 알고리즘을 적용한다 하더라도 O(n3) 의 복잡도.</p>
                    <a class="fragment" style="font-size: 0.6em" href="http://grfia.dlsi.ua.es/ml/algorithms/references/editsurvey_bille.pdf">
                        트리 비교 알고리즘 자료.pdf (영문).
                    </a>
                </section>

                <section>
                    <p>몇가지 가정으로 트리 비교 수행</p>
                    <ul>
                        <li class="fragment">새로운 노드가 기존의 노드와 비교해서 다른 노드라면 children 비교를 하지 않고 전체를 다른 노드로 가정함</li>
                        <li class="fragment">만일 서로 같은 노드라면, Attribute 만을 비교하는 단순 비교가 가능</li>
                        <li class="fragment">목록성의 노드끼리의 비교라면 key 라는 고유 속성을 할당하여 비교</li>
                    </ul>
                </section>

                <section>
                    <p>비교 알고리즘 구현까지 자세히 이해하면 더 좋겠지만...
                        대략적인 비교 알고리즘을 알아야 실제 React 코딩 시 컴포넌트의 배치 및 key 값의 지정 등으로 불필요한 UI 갱신을 막을 수 있다</p>
                </section>

                <section>
                    <p>End!</p>
                    <ul>
                        <li><a href="https://facebook.github.io/react/docs/getting-started.html" target="_blank">React Official Document</a></li>
                        <li><a href="http://hackflow.com/blog/2015/03/08/boiling-react-down-to-few-lines-in-jquery/" target="_blank">
                            Boiling React Down to a Few Lines in jQuery
                        </a></li>
                    </ul>
                </section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: 'simple',//Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: 'zoom', //Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/showdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/spotlight/spotlight.js', async: true, condition: function() { return !!document.body.classList; } }
					//{ src: 'plugin/repoll/repoll.js', async: true, condition: function() { return !!document.body.classList; } },
				]
			});

            var codeExecutor = document.querySelectorAll("a[data-executor]");
            Array.prototype.forEach.call(codeExecutor, function(v) {
                v.onclick = function(e) {
                    var parent = e.target.parentNode;
                    eval.call(window, parent.querySelector("pre.code code").innerText);
                }
            });
		</script>

	</body>
</html>
